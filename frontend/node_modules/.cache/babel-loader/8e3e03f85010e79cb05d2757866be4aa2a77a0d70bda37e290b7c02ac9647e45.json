{"ast":null,"code":"var _jsxFileName = \"/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/components/sections/SynopsisSection.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Typography, Button, Paper, CircularProgress } from '@mui/material';\nimport { useBooks } from '../../context/BookContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SynopsisSection = () => {\n  _s();\n  var _currentBook$metadata;\n  const {\n    currentBook,\n    generateSynopsis,\n    updateBookMetadata\n  } = useBooks();\n  const [isGenerating, setIsGenerating] = React.useState(false);\n  const handleGenerate = async () => {\n    try {\n      setIsGenerating(true);\n      const result = await generateSynopsis(currentBook.id);\n      await updateBookMetadata(currentBook.id, {\n        synopsis: result\n      });\n    } catch (error) {\n      console.error('Error generating synopsis:', error);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      sx: {\n        mb: 3\n      },\n      children: \"Sinossi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3,\n        mb: 3\n      },\n      children: currentBook !== null && currentBook !== void 0 && (_currentBook$metadata = currentBook.metadata) !== null && _currentBook$metadata !== void 0 && _currentBook$metadata.synopsis ? /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: currentBook.metadata.synopsis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"text.secondary\",\n        children: \"Nessuna sinossi generata. Clicca il pulsante per generarne una.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleGenerate,\n      disabled: isGenerating,\n      startIcon: isGenerating ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 35\n      }, this) : null,\n      children: isGenerating ? 'Generazione in corso...' : 'Genera Sinossi'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(SynopsisSection, \"/YC3Jpv0mreje5hroifKzip4jkI=\", false, function () {\n  return [useBooks];\n});\n_c = SynopsisSection;\nexport default SynopsisSection;\nvar _c;\n$RefreshReg$(_c, \"SynopsisSection\");","map":{"version":3,"names":["React","Box","Typography","Button","Paper","CircularProgress","useBooks","jsxDEV","_jsxDEV","SynopsisSection","_s","_currentBook$metadata","currentBook","generateSynopsis","updateBookMetadata","isGenerating","setIsGenerating","useState","handleGenerate","result","id","synopsis","error","console","sx","p","children","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","metadata","color","onClick","disabled","startIcon","size","_c","$RefreshReg$"],"sources":["/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/components/sections/SynopsisSection.js"],"sourcesContent":["import React from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Paper,\n  CircularProgress\n} from '@mui/material';\nimport { useBooks } from '../../context/BookContext';\n\nconst SynopsisSection = () => {\n  const { currentBook, generateSynopsis, updateBookMetadata } = useBooks();\n  const [isGenerating, setIsGenerating] = React.useState(false);\n\n  const handleGenerate = async () => {\n    try {\n      setIsGenerating(true);\n      const result = await generateSynopsis(currentBook.id);\n      await updateBookMetadata(currentBook.id, {\n        synopsis: result\n      });\n    } catch (error) {\n      console.error('Error generating synopsis:', error);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <Box sx={{ p: 4 }}>\n      <Typography variant=\"h5\" sx={{ mb: 3 }}>\n        Sinossi\n      </Typography>\n\n      <Paper sx={{ p: 3, mb: 3 }}>\n        {currentBook?.metadata?.synopsis ? (\n          <Typography variant=\"body1\">\n            {currentBook.metadata.synopsis}\n          </Typography>\n        ) : (\n          <Typography color=\"text.secondary\">\n            Nessuna sinossi generata. Clicca il pulsante per generarne una.\n          </Typography>\n        )}\n      </Paper>\n\n      <Button\n        variant=\"contained\"\n        onClick={handleGenerate}\n        disabled={isGenerating}\n        startIcon={isGenerating ? <CircularProgress size={20} /> : null}\n      >\n        {isGenerating ? 'Generazione in corso...' : 'Genera Sinossi'}\n      </Button>\n    </Box>\n  );\n};\n\nexport default SynopsisSection; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,GAAG,EACHC,UAAU,EACVC,MAAM,EACNC,KAAK,EACLC,gBAAgB,QACX,eAAe;AACtB,SAASC,QAAQ,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EAC5B,MAAM;IAAEC,WAAW;IAAEC,gBAAgB;IAAEC;EAAmB,CAAC,GAAGR,QAAQ,CAAC,CAAC;EACxE,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGhB,KAAK,CAACiB,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACFF,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMG,MAAM,GAAG,MAAMN,gBAAgB,CAACD,WAAW,CAACQ,EAAE,CAAC;MACrD,MAAMN,kBAAkB,CAACF,WAAW,CAACQ,EAAE,EAAE;QACvCC,QAAQ,EAAEF;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,oBACER,OAAA,CAACP,GAAG;IAACuB,EAAE,EAAE;MAAEC,CAAC,EAAE;IAAE,CAAE;IAAAC,QAAA,gBAChBlB,OAAA,CAACN,UAAU;MAACyB,OAAO,EAAC,IAAI;MAACH,EAAE,EAAE;QAAEI,EAAE,EAAE;MAAE,CAAE;MAAAF,QAAA,EAAC;IAExC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAEbxB,OAAA,CAACJ,KAAK;MAACoB,EAAE,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEG,EAAE,EAAE;MAAE,CAAE;MAAAF,QAAA,EACxBd,WAAW,aAAXA,WAAW,gBAAAD,qBAAA,GAAXC,WAAW,CAAEqB,QAAQ,cAAAtB,qBAAA,eAArBA,qBAAA,CAAuBU,QAAQ,gBAC9Bb,OAAA,CAACN,UAAU;QAACyB,OAAO,EAAC,OAAO;QAAAD,QAAA,EACxBd,WAAW,CAACqB,QAAQ,CAACZ;MAAQ;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CAAC,gBAEbxB,OAAA,CAACN,UAAU;QAACgC,KAAK,EAAC,gBAAgB;QAAAR,QAAA,EAAC;MAEnC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY;IACb;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAERxB,OAAA,CAACL,MAAM;MACLwB,OAAO,EAAC,WAAW;MACnBQ,OAAO,EAAEjB,cAAe;MACxBkB,QAAQ,EAAErB,YAAa;MACvBsB,SAAS,EAAEtB,YAAY,gBAAGP,OAAA,CAACH,gBAAgB;QAACiC,IAAI,EAAE;MAAG;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GAAG,IAAK;MAAAN,QAAA,EAE/DX,YAAY,GAAG,yBAAyB,GAAG;IAAgB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACtB,EAAA,CA9CID,eAAe;EAAA,QAC2CH,QAAQ;AAAA;AAAAiC,EAAA,GADlE9B,eAAe;AAgDrB,eAAeA,eAAe;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}