{"ast":null,"code":"var _jsxFileName = \"/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/components/book/CategorySection.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Typography } from '@mui/material';\nimport { useBooks } from '../../context/BookContext';\nimport GenerativeSection from '../common/GenerativeSection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategorySection = () => {\n  _s();\n  const {\n    generateCategories,\n    updateBookMetadata\n  } = useBooks();\n  const handleGenerate = async bookId => {\n    const result = await generateCategories(bookId);\n    if (!result || !result.mainCategory && !result.secondaryCategories) {\n      throw new Error('Formato categorie non valido');\n    }\n    await updateBookMetadata(bookId, {\n      categories: result\n    });\n  };\n  const renderContent = book => {\n    var _book$metadata;\n    const categories = book === null || book === void 0 ? void 0 : (_book$metadata = book.metadata) === null || _book$metadata === void 0 ? void 0 : _book$metadata.categories;\n    if (!(categories !== null && categories !== void 0 && categories.mainCategory)) return null;\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          sx: {\n            mb: 1,\n            fontWeight: 500\n          },\n          children: \"Categoria Principale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: categories.mainCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), categories.secondaryCategories && categories.secondaryCategories.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          sx: {\n            mb: 1,\n            fontWeight: 500\n          },\n          children: \"Categorie Secondarie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), categories.secondaryCategories.map((category, index) => /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: category\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this);\n  };\n  const sectionProps = {\n    title: \"Categorie BISAC\",\n    emptyMessage: \"Nessuna categoria generata. Clicca il pulsante per generarne.\",\n    generateButtonText: \"Genera Categorie\",\n    onGenerate: handleGenerate,\n    renderContent: renderContent\n  };\n  return /*#__PURE__*/_jsxDEV(GenerativeSection, {\n    ...sectionProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n};\n_s(CategorySection, \"wyCE1D+AhJowUYQBkwfXBjonu6A=\", false, function () {\n  return [useBooks];\n});\n_c = CategorySection;\nexport default CategorySection;\nvar _c;\n$RefreshReg$(_c, \"CategorySection\");","map":{"version":3,"names":["React","Box","Typography","useBooks","GenerativeSection","jsxDEV","_jsxDEV","CategorySection","_s","generateCategories","updateBookMetadata","handleGenerate","bookId","result","mainCategory","secondaryCategories","Error","categories","renderContent","book","_book$metadata","metadata","children","sx","mb","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","length","map","category","index","sectionProps","title","emptyMessage","generateButtonText","onGenerate","_c","$RefreshReg$"],"sources":["/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/components/book/CategorySection.js"],"sourcesContent":["import React from 'react';\nimport { Box, Typography } from '@mui/material';\nimport { useBooks } from '../../context/BookContext';\nimport GenerativeSection from '../common/GenerativeSection';\n\nconst CategorySection = () => {\n  const { generateCategories, updateBookMetadata } = useBooks();\n\n  const handleGenerate = async (bookId) => {\n    const result = await generateCategories(bookId);\n    \n    if (!result || (!result.mainCategory && !result.secondaryCategories)) {\n      throw new Error('Formato categorie non valido');\n    }\n    \n    await updateBookMetadata(bookId, {\n      categories: result\n    });\n  };\n\n  const renderContent = (book) => {\n    const categories = book?.metadata?.categories;\n    if (!categories?.mainCategory) return null;\n\n    return (\n      <Box>\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 500 }}>\n            Categoria Principale\n          </Typography>\n          <Typography variant=\"body2\">\n            {categories.mainCategory}\n          </Typography>\n        </Box>\n\n        {categories.secondaryCategories && categories.secondaryCategories.length > 0 && (\n          <Box>\n            <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 500 }}>\n              Categorie Secondarie\n            </Typography>\n            {categories.secondaryCategories.map((category, index) => (\n              <Typography key={index} variant=\"body2\">\n                {category}\n              </Typography>\n            ))}\n          </Box>\n        )}\n      </Box>\n    );\n  };\n\n  const sectionProps = {\n    title: \"Categorie BISAC\",\n    emptyMessage: \"Nessuna categoria generata. Clicca il pulsante per generarne.\",\n    generateButtonText: \"Genera Categorie\",\n    onGenerate: handleGenerate,\n    renderContent: renderContent\n  };\n\n  return <GenerativeSection {...sectionProps} />;\n};\n\nexport default CategorySection; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}