{"ast":null,"code":"var _jsxFileName = \"/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/context/BookContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, createContext, useContext } from 'react';\nimport { bookService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookContext = /*#__PURE__*/createContext();\nexport const BookProvider = ({\n  children\n}) => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [currentBook, setCurrentBook] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isAnyTaskGenerating, setIsAnyTaskGenerating] = useState(false);\n  useEffect(() => {\n    loadBooks();\n  }, []);\n  const loadBooks = async () => {\n    try {\n      const data = await bookService.getBooks();\n      setBooks(data);\n    } catch (error) {\n      console.error('Error loading books:', error);\n    }\n  };\n  const addBook = async bookData => {\n    try {\n      setIsUploading(true);\n      const response = await bookService.uploadBook(bookData.file);\n      setBooks(prevBooks => [...prevBooks, response.book]);\n      return response.book.id;\n    } catch (error) {\n      console.error('Error adding book:', error);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const removeBook = async bookId => {\n    try {\n      await bookService.deleteBook(bookId);\n      setBooks(prevBooks => prevBooks.filter(book => book.id !== bookId));\n    } catch (error) {\n      console.error('Error removing book:', error);\n      throw error;\n    }\n  };\n  const updateBook = async (bookId, updatedBook) => {\n    try {\n      const response = await bookService.updateBook(bookId, updatedBook);\n      setBooks(prevBooks => prevBooks.map(book => book.id === bookId ? response.book : book));\n    } catch (error) {\n      console.error('Error updating book:', error);\n      throw error;\n    }\n  };\n  const generateCategories = async bookId => {\n    try {\n      console.log('BookContext: Starting generateCategories for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateCategories(bookId);\n      console.log('BookContext: Received categories response:', response);\n\n      // Aggiorniamo anche lo stato globale dei libri\n      setBooks(prevBooks => prevBooks.map(book => book.id === bookId ? {\n        ...book,\n        metadata: {\n          ...book.metadata,\n          categories: response\n        }\n      } : book));\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating categories:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const generateKeywords = async bookId => {\n    try {\n      setIsGenerating(true);\n      const response = await bookService.generateKeywords(bookId);\n      return response;\n    } catch (error) {\n      console.error('Error generating keywords:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const generateScenes = async bookId => {\n    try {\n      console.log('BookContext: Starting generateScenes for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateScenes(bookId);\n      console.log('BookContext: Received response from generateScenes:', response);\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error in generateScenes:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const generateCoverImages = async (bookId, scenes) => {\n    try {\n      setIsGenerating(true);\n      const response = await bookService.generateCoverImages(bookId, scenes);\n      return response;\n    } catch (error) {\n      console.error('Error generating cover images:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const resetBookData = async bookId => {\n    try {\n      await bookService.resetBookData(bookId);\n      setBooks(prevBooks => {\n        return prevBooks.map(book => {\n          if (book.id === bookId) {\n            return {\n              ...book,\n              metadata: {\n                categories: null,\n                keywords: null,\n                covers: null,\n                backCover: null,\n                preface: null,\n                storeDescription: null\n              }\n            };\n          }\n          return book;\n        });\n      });\n    } catch (error) {\n      console.error('Error resetting book data:', error);\n      throw error;\n    }\n  };\n  const generateBackCover = async bookId => {\n    try {\n      console.log('BookContext: Starting generateBackCover for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateBackCover(bookId);\n      console.log('BookContext: Received back cover response:', response);\n\n      // Aggiorniamo lo stato globale preservando tutti i metadata esistenti\n      setBooks(prevBooks => prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,\n              // Preserviamo tutti i metadata esistenti\n              categories: book.metadata.categories,\n              // Preserviamo esplicitamente le categorie\n              keywords: book.metadata.keywords,\n              // Preserviamo esplicitamente le keywords\n              covers: book.metadata.covers,\n              // Preserviamo esplicitamente le covers\n              backCover: response.backCover // Aggiungiamo la quarta\n            }\n          };\n        }\n        return book;\n      }));\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating back cover:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const generatePreface = async bookId => {\n    try {\n      console.log('BookContext: Starting generatePreface for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generatePreface(bookId);\n      console.log('BookContext: Received preface response:', response);\n\n      // Aggiorniamo lo stato globale dei libri\n      setBooks(prevBooks => prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,\n              categories: book.metadata.categories,\n              // Preserviamo le categorie\n              keywords: book.metadata.keywords,\n              // Preserviamo le keywords\n              covers: book.metadata.covers,\n              // Preserviamo le covers\n              backCover: book.metadata.backCover,\n              // Preserviamo la quarta\n              preface: response.preface // Aggiungiamo la prefazione\n            }\n          };\n        }\n        return book;\n      }));\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating preface:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const generateStoreDescription = async bookId => {\n    try {\n      console.log('BookContext: Starting generateStoreDescription for bookId:', bookId);\n      console.log('BookContext: Current books state:', books);\n      setIsGenerating(true);\n      const response = await bookService.generateStoreDescription(bookId);\n      console.log('BookContext: Received store description response:', response);\n\n      // Aggiorniamo lo stato globale dei libri\n      setBooks(prevBooks => {\n        const updatedBooks = prevBooks.map(book => {\n          if (book.id === bookId) {\n            const updatedBook = {\n              ...book,\n              metadata: {\n                ...book.metadata,\n                categories: book.metadata.categories,\n                keywords: book.metadata.keywords,\n                covers: book.metadata.covers,\n                backCover: book.metadata.backCover,\n                preface: book.metadata.preface,\n                storeDescription: response.storeDescription\n              }\n            };\n            console.log('BookContext: Updated book:', updatedBook);\n            return updatedBook;\n          }\n          return book;\n        });\n        console.log('BookContext: Updated books state:', updatedBooks);\n        return updatedBooks;\n      });\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating store description:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const updateBookMetadata = (bookId, updates) => {\n    setBooks(prevBooks => {\n      return prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,\n              // Preserva i metadata esistenti\n              ...updates // Aggiunge/aggiorna solo i campi specificati\n            }\n          };\n        }\n        return book;\n      });\n    });\n  };\n  const generateSynopsis = async bookId => {\n    // Implementa la logica per generare la sinossi\n    // Questa è solo una simulazione\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve(\"Questa è una sinossi generata di esempio...\");\n      }, 2000);\n    });\n  };\n  const value = {\n    books,\n    currentBook,\n    setCurrentBook,\n    setBooks,\n    addBook,\n    removeBook,\n    updateBook,\n    isUploading,\n    isGenerating,\n    generateCategories,\n    generateKeywords,\n    generateScenes,\n    generateCoverImages,\n    resetBookData,\n    generateBackCover,\n    generatePreface,\n    generateStoreDescription,\n    updateBookMetadata,\n    isAnyTaskGenerating,\n    setIsAnyTaskGenerating,\n    generateSynopsis\n  };\n  return /*#__PURE__*/_jsxDEV(BookContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n};\n_s(BookProvider, \"YBQj0LSIqo0Mgh/jSgLWo32mPro=\");\n_c = BookProvider;\nexport const useBooks = () => {\n  _s2();\n  return useContext(BookContext);\n};\n_s2(useBooks, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"BookProvider\");","map":{"version":3,"names":["useState","useEffect","createContext","useContext","bookService","jsxDEV","_jsxDEV","BookContext","BookProvider","children","_s","books","setBooks","currentBook","setCurrentBook","isUploading","setIsUploading","isGenerating","setIsGenerating","isAnyTaskGenerating","setIsAnyTaskGenerating","loadBooks","data","getBooks","error","console","addBook","bookData","response","uploadBook","file","prevBooks","book","id","removeBook","bookId","deleteBook","filter","updateBook","updatedBook","map","generateCategories","log","metadata","categories","generateKeywords","generateScenes","generateCoverImages","scenes","resetBookData","keywords","covers","backCover","preface","storeDescription","generateBackCover","generatePreface","generateStoreDescription","updatedBooks","updateBookMetadata","updates","generateSynopsis","Promise","resolve","setTimeout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useBooks","_s2","$RefreshReg$"],"sources":["/Users/marcolp/AI/CURSOR projects/Lose/frontend/src/context/BookContext.js"],"sourcesContent":["import { useState, useEffect, createContext, useContext } from 'react';\nimport { bookService } from '../services/api';\n\nconst BookContext = createContext();\n\nexport const BookProvider = ({ children }) => {\n  const [books, setBooks] = useState([]);\n  const [currentBook, setCurrentBook] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isAnyTaskGenerating, setIsAnyTaskGenerating] = useState(false);\n\n  useEffect(() => {\n    loadBooks();\n  }, []);\n\n  const loadBooks = async () => {\n    try {\n      const data = await bookService.getBooks();\n      setBooks(data);\n    } catch (error) {\n      console.error('Error loading books:', error);\n    }\n  };\n\n  const addBook = async (bookData) => {\n    try {\n      setIsUploading(true);\n      const response = await bookService.uploadBook(bookData.file);\n      setBooks(prevBooks => [...prevBooks, response.book]);\n      return response.book.id;\n    } catch (error) {\n      console.error('Error adding book:', error);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const removeBook = async (bookId) => {\n    try {\n      await bookService.deleteBook(bookId);\n      setBooks(prevBooks => prevBooks.filter(book => book.id !== bookId));\n    } catch (error) {\n      console.error('Error removing book:', error);\n      throw error;\n    }\n  };\n\n  const updateBook = async (bookId, updatedBook) => {\n    try {\n      const response = await bookService.updateBook(bookId, updatedBook);\n      setBooks(prevBooks => \n        prevBooks.map(book => \n          book.id === bookId ? response.book : book\n        )\n      );\n    } catch (error) {\n      console.error('Error updating book:', error);\n      throw error;\n    }\n  };\n\n  const generateCategories = async (bookId) => {\n    try {\n      console.log('BookContext: Starting generateCategories for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateCategories(bookId);\n      console.log('BookContext: Received categories response:', response);\n      \n      // Aggiorniamo anche lo stato globale dei libri\n      setBooks(prevBooks => prevBooks.map(book => \n        book.id === bookId \n          ? { ...book, metadata: { ...book.metadata, categories: response } }\n          : book\n      ));\n      \n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating categories:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateKeywords = async (bookId) => {\n    try {\n      setIsGenerating(true);\n      const response = await bookService.generateKeywords(bookId);\n      return response;\n    } catch (error) {\n      console.error('Error generating keywords:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateScenes = async (bookId) => {\n    try {\n      console.log('BookContext: Starting generateScenes for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateScenes(bookId);\n      console.log('BookContext: Received response from generateScenes:', response);\n      return response;\n    } catch (error) {\n      console.error('BookContext: Error in generateScenes:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateCoverImages = async (bookId, scenes) => {\n    try {\n      setIsGenerating(true);\n      const response = await bookService.generateCoverImages(bookId, scenes);\n      return response;\n    } catch (error) {\n      console.error('Error generating cover images:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const resetBookData = async (bookId) => {\n    try {\n      await bookService.resetBookData(bookId);\n      setBooks(prevBooks => {\n        return prevBooks.map(book => {\n          if (book.id === bookId) {\n            return {\n              ...book,\n              metadata: {\n                categories: null,\n                keywords: null,\n                covers: null,\n                backCover: null,\n                preface: null,\n                storeDescription: null\n              }\n            };\n          }\n          return book;\n        });\n      });\n    } catch (error) {\n      console.error('Error resetting book data:', error);\n      throw error;\n    }\n  };\n\n  const generateBackCover = async (bookId) => {\n    try {\n      console.log('BookContext: Starting generateBackCover for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generateBackCover(bookId);\n      console.log('BookContext: Received back cover response:', response);\n      \n      // Aggiorniamo lo stato globale preservando tutti i metadata esistenti\n      setBooks(prevBooks => prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,  // Preserviamo tutti i metadata esistenti\n              categories: book.metadata.categories,  // Preserviamo esplicitamente le categorie\n              keywords: book.metadata.keywords,      // Preserviamo esplicitamente le keywords\n              covers: book.metadata.covers,          // Preserviamo esplicitamente le covers\n              backCover: response.backCover          // Aggiungiamo la quarta\n            }\n          };\n        }\n        return book;\n      }));\n      \n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating back cover:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generatePreface = async (bookId) => {\n    try {\n      console.log('BookContext: Starting generatePreface for bookId:', bookId);\n      setIsGenerating(true);\n      const response = await bookService.generatePreface(bookId);\n      console.log('BookContext: Received preface response:', response);\n      \n      // Aggiorniamo lo stato globale dei libri\n      setBooks(prevBooks => prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,\n              categories: book.metadata.categories,  // Preserviamo le categorie\n              keywords: book.metadata.keywords,      // Preserviamo le keywords\n              covers: book.metadata.covers,          // Preserviamo le covers\n              backCover: book.metadata.backCover,    // Preserviamo la quarta\n              preface: response.preface             // Aggiungiamo la prefazione\n            }\n          };\n        }\n        return book;\n      }));\n      \n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating preface:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const generateStoreDescription = async (bookId) => {\n    try {\n      console.log('BookContext: Starting generateStoreDescription for bookId:', bookId);\n      console.log('BookContext: Current books state:', books);\n      setIsGenerating(true);\n      \n      const response = await bookService.generateStoreDescription(bookId);\n      console.log('BookContext: Received store description response:', response);\n      \n      // Aggiorniamo lo stato globale dei libri\n      setBooks(prevBooks => {\n        const updatedBooks = prevBooks.map(book => {\n          if (book.id === bookId) {\n            const updatedBook = {\n              ...book,\n              metadata: {\n                ...book.metadata,\n                categories: book.metadata.categories,\n                keywords: book.metadata.keywords,\n                covers: book.metadata.covers,\n                backCover: book.metadata.backCover,\n                preface: book.metadata.preface,\n                storeDescription: response.storeDescription\n              }\n            };\n            console.log('BookContext: Updated book:', updatedBook);\n            return updatedBook;\n          }\n          return book;\n        });\n        console.log('BookContext: Updated books state:', updatedBooks);\n        return updatedBooks;\n      });\n      \n      return response;\n    } catch (error) {\n      console.error('BookContext: Error generating store description:', error);\n      throw error;\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const updateBookMetadata = (bookId, updates) => {\n    setBooks(prevBooks => {\n      return prevBooks.map(book => {\n        if (book.id === bookId) {\n          return {\n            ...book,\n            metadata: {\n              ...book.metadata,  // Preserva i metadata esistenti\n              ...updates        // Aggiunge/aggiorna solo i campi specificati\n            }\n          };\n        }\n        return book;\n      });\n    });\n  };\n\n  const generateSynopsis = async (bookId) => {\n    // Implementa la logica per generare la sinossi\n    // Questa è solo una simulazione\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(\"Questa è una sinossi generata di esempio...\");\n      }, 2000);\n    });\n  };\n\n  const value = {\n    books, \n    currentBook,\n    setCurrentBook,\n    setBooks, \n    addBook, \n    removeBook, \n    updateBook,\n    isUploading,\n    isGenerating,\n    generateCategories,\n    generateKeywords,\n    generateScenes,\n    generateCoverImages,\n    resetBookData,\n    generateBackCover,\n    generatePreface,\n    generateStoreDescription,\n    updateBookMetadata,\n    isAnyTaskGenerating,\n    setIsAnyTaskGenerating,\n    generateSynopsis,\n  };\n\n  return (\n    <BookContext.Provider value={value}>\n      {children}\n    </BookContext.Provider>\n  );\n};\n\nexport const useBooks = () => useContext(BookContext); "],"mappings":";;;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACtE,SAASC,WAAW,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAEnC,OAAO,MAAMM,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACmB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAErEC,SAAS,CAAC,MAAM;IACdoB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,IAAI,GAAG,MAAMlB,WAAW,CAACmB,QAAQ,CAAC,CAAC;MACzCX,QAAQ,CAACU,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,MAAME,OAAO,GAAG,MAAOC,QAAQ,IAAK;IAClC,IAAI;MACFX,cAAc,CAAC,IAAI,CAAC;MACpB,MAAMY,QAAQ,GAAG,MAAMxB,WAAW,CAACyB,UAAU,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC5DlB,QAAQ,CAACmB,SAAS,IAAI,CAAC,GAAGA,SAAS,EAAEH,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpD,OAAOJ,QAAQ,CAACI,IAAI,CAACC,EAAE;IACzB,CAAC,CAAC,OAAOT,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C,MAAMA,KAAK;IACb,CAAC,SAAS;MACRR,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMkB,UAAU,GAAG,MAAOC,MAAM,IAAK;IACnC,IAAI;MACF,MAAM/B,WAAW,CAACgC,UAAU,CAACD,MAAM,CAAC;MACpCvB,QAAQ,CAACmB,SAAS,IAAIA,SAAS,CAACM,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,CAAC,CAAC;IACrE,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMc,UAAU,GAAG,MAAAA,CAAOH,MAAM,EAAEI,WAAW,KAAK;IAChD,IAAI;MACF,MAAMX,QAAQ,GAAG,MAAMxB,WAAW,CAACkC,UAAU,CAACH,MAAM,EAAEI,WAAW,CAAC;MAClE3B,QAAQ,CAACmB,SAAS,IAChBA,SAAS,CAACS,GAAG,CAACR,IAAI,IAChBA,IAAI,CAACC,EAAE,KAAKE,MAAM,GAAGP,QAAQ,CAACI,IAAI,GAAGA,IACvC,CACF,CAAC;IACH,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMiB,kBAAkB,GAAG,MAAON,MAAM,IAAK;IAC3C,IAAI;MACFV,OAAO,CAACiB,GAAG,CAAC,sDAAsD,EAAEP,MAAM,CAAC;MAC3EjB,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAACqC,kBAAkB,CAACN,MAAM,CAAC;MAC7DV,OAAO,CAACiB,GAAG,CAAC,4CAA4C,EAAEd,QAAQ,CAAC;;MAEnE;MACAhB,QAAQ,CAACmB,SAAS,IAAIA,SAAS,CAACS,GAAG,CAACR,IAAI,IACtCA,IAAI,CAACC,EAAE,KAAKE,MAAM,GACd;QAAE,GAAGH,IAAI;QAAEW,QAAQ,EAAE;UAAE,GAAGX,IAAI,CAACW,QAAQ;UAAEC,UAAU,EAAEhB;QAAS;MAAE,CAAC,GACjEI,IACN,CAAC,CAAC;MAEF,OAAOJ,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAM2B,gBAAgB,GAAG,MAAOV,MAAM,IAAK;IACzC,IAAI;MACFjB,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAACyC,gBAAgB,CAACV,MAAM,CAAC;MAC3D,OAAOP,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAM4B,cAAc,GAAG,MAAOX,MAAM,IAAK;IACvC,IAAI;MACFV,OAAO,CAACiB,GAAG,CAAC,kDAAkD,EAAEP,MAAM,CAAC;MACvEjB,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAAC0C,cAAc,CAACX,MAAM,CAAC;MACzDV,OAAO,CAACiB,GAAG,CAAC,qDAAqD,EAAEd,QAAQ,CAAC;MAC5E,OAAOA,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC7D,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAM6B,mBAAmB,GAAG,MAAAA,CAAOZ,MAAM,EAAEa,MAAM,KAAK;IACpD,IAAI;MACF9B,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAAC2C,mBAAmB,CAACZ,MAAM,EAAEa,MAAM,CAAC;MACtE,OAAOpB,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAM+B,aAAa,GAAG,MAAOd,MAAM,IAAK;IACtC,IAAI;MACF,MAAM/B,WAAW,CAAC6C,aAAa,CAACd,MAAM,CAAC;MACvCvB,QAAQ,CAACmB,SAAS,IAAI;QACpB,OAAOA,SAAS,CAACS,GAAG,CAACR,IAAI,IAAI;UAC3B,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,EAAE;YACtB,OAAO;cACL,GAAGH,IAAI;cACPW,QAAQ,EAAE;gBACRC,UAAU,EAAE,IAAI;gBAChBM,QAAQ,EAAE,IAAI;gBACdC,MAAM,EAAE,IAAI;gBACZC,SAAS,EAAE,IAAI;gBACfC,OAAO,EAAE,IAAI;gBACbC,gBAAgB,EAAE;cACpB;YACF,CAAC;UACH;UACA,OAAOtB,IAAI;QACb,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAM+B,iBAAiB,GAAG,MAAOpB,MAAM,IAAK;IAC1C,IAAI;MACFV,OAAO,CAACiB,GAAG,CAAC,qDAAqD,EAAEP,MAAM,CAAC;MAC1EjB,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAACmD,iBAAiB,CAACpB,MAAM,CAAC;MAC5DV,OAAO,CAACiB,GAAG,CAAC,4CAA4C,EAAEd,QAAQ,CAAC;;MAEnE;MACAhB,QAAQ,CAACmB,SAAS,IAAIA,SAAS,CAACS,GAAG,CAACR,IAAI,IAAI;QAC1C,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,EAAE;UACtB,OAAO;YACL,GAAGH,IAAI;YACPW,QAAQ,EAAE;cACR,GAAGX,IAAI,CAACW,QAAQ;cAAG;cACnBC,UAAU,EAAEZ,IAAI,CAACW,QAAQ,CAACC,UAAU;cAAG;cACvCM,QAAQ,EAAElB,IAAI,CAACW,QAAQ,CAACO,QAAQ;cAAO;cACvCC,MAAM,EAAEnB,IAAI,CAACW,QAAQ,CAACQ,MAAM;cAAW;cACvCC,SAAS,EAAExB,QAAQ,CAACwB,SAAS,CAAU;YACzC;UACF,CAAC;QACH;QACA,OAAOpB,IAAI;MACb,CAAC,CAAC,CAAC;MAEH,OAAOJ,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMsC,eAAe,GAAG,MAAOrB,MAAM,IAAK;IACxC,IAAI;MACFV,OAAO,CAACiB,GAAG,CAAC,mDAAmD,EAAEP,MAAM,CAAC;MACxEjB,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAACoD,eAAe,CAACrB,MAAM,CAAC;MAC1DV,OAAO,CAACiB,GAAG,CAAC,yCAAyC,EAAEd,QAAQ,CAAC;;MAEhE;MACAhB,QAAQ,CAACmB,SAAS,IAAIA,SAAS,CAACS,GAAG,CAACR,IAAI,IAAI;QAC1C,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,EAAE;UACtB,OAAO;YACL,GAAGH,IAAI;YACPW,QAAQ,EAAE;cACR,GAAGX,IAAI,CAACW,QAAQ;cAChBC,UAAU,EAAEZ,IAAI,CAACW,QAAQ,CAACC,UAAU;cAAG;cACvCM,QAAQ,EAAElB,IAAI,CAACW,QAAQ,CAACO,QAAQ;cAAO;cACvCC,MAAM,EAAEnB,IAAI,CAACW,QAAQ,CAACQ,MAAM;cAAW;cACvCC,SAAS,EAAEpB,IAAI,CAACW,QAAQ,CAACS,SAAS;cAAK;cACvCC,OAAO,EAAEzB,QAAQ,CAACyB,OAAO,CAAa;YACxC;UACF,CAAC;QACH;QACA,OAAOrB,IAAI;MACb,CAAC,CAAC,CAAC;MAEH,OAAOJ,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAC9D,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMuC,wBAAwB,GAAG,MAAOtB,MAAM,IAAK;IACjD,IAAI;MACFV,OAAO,CAACiB,GAAG,CAAC,4DAA4D,EAAEP,MAAM,CAAC;MACjFV,OAAO,CAACiB,GAAG,CAAC,mCAAmC,EAAE/B,KAAK,CAAC;MACvDO,eAAe,CAAC,IAAI,CAAC;MAErB,MAAMU,QAAQ,GAAG,MAAMxB,WAAW,CAACqD,wBAAwB,CAACtB,MAAM,CAAC;MACnEV,OAAO,CAACiB,GAAG,CAAC,mDAAmD,EAAEd,QAAQ,CAAC;;MAE1E;MACAhB,QAAQ,CAACmB,SAAS,IAAI;QACpB,MAAM2B,YAAY,GAAG3B,SAAS,CAACS,GAAG,CAACR,IAAI,IAAI;UACzC,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,EAAE;YACtB,MAAMI,WAAW,GAAG;cAClB,GAAGP,IAAI;cACPW,QAAQ,EAAE;gBACR,GAAGX,IAAI,CAACW,QAAQ;gBAChBC,UAAU,EAAEZ,IAAI,CAACW,QAAQ,CAACC,UAAU;gBACpCM,QAAQ,EAAElB,IAAI,CAACW,QAAQ,CAACO,QAAQ;gBAChCC,MAAM,EAAEnB,IAAI,CAACW,QAAQ,CAACQ,MAAM;gBAC5BC,SAAS,EAAEpB,IAAI,CAACW,QAAQ,CAACS,SAAS;gBAClCC,OAAO,EAAErB,IAAI,CAACW,QAAQ,CAACU,OAAO;gBAC9BC,gBAAgB,EAAE1B,QAAQ,CAAC0B;cAC7B;YACF,CAAC;YACD7B,OAAO,CAACiB,GAAG,CAAC,4BAA4B,EAAEH,WAAW,CAAC;YACtD,OAAOA,WAAW;UACpB;UACA,OAAOP,IAAI;QACb,CAAC,CAAC;QACFP,OAAO,CAACiB,GAAG,CAAC,mCAAmC,EAAEgB,YAAY,CAAC;QAC9D,OAAOA,YAAY;MACrB,CAAC,CAAC;MAEF,OAAO9B,QAAQ;IACjB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kDAAkD,EAAEA,KAAK,CAAC;MACxE,MAAMA,KAAK;IACb,CAAC,SAAS;MACRN,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMyC,kBAAkB,GAAGA,CAACxB,MAAM,EAAEyB,OAAO,KAAK;IAC9ChD,QAAQ,CAACmB,SAAS,IAAI;MACpB,OAAOA,SAAS,CAACS,GAAG,CAACR,IAAI,IAAI;QAC3B,IAAIA,IAAI,CAACC,EAAE,KAAKE,MAAM,EAAE;UACtB,OAAO;YACL,GAAGH,IAAI;YACPW,QAAQ,EAAE;cACR,GAAGX,IAAI,CAACW,QAAQ;cAAG;cACnB,GAAGiB,OAAO,CAAQ;YACpB;UACF,CAAC;QACH;QACA,OAAO5B,IAAI;MACb,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,MAAM6B,gBAAgB,GAAG,MAAO1B,MAAM,IAAK;IACzC;IACA;IACA,OAAO,IAAI2B,OAAO,CAAEC,OAAO,IAAK;MAC9BC,UAAU,CAAC,MAAM;QACfD,OAAO,CAAC,6CAA6C,CAAC;MACxD,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,KAAK,GAAG;IACZtD,KAAK;IACLE,WAAW;IACXC,cAAc;IACdF,QAAQ;IACRc,OAAO;IACPQ,UAAU;IACVI,UAAU;IACVvB,WAAW;IACXE,YAAY;IACZwB,kBAAkB;IAClBI,gBAAgB;IAChBC,cAAc;IACdC,mBAAmB;IACnBE,aAAa;IACbM,iBAAiB;IACjBC,eAAe;IACfC,wBAAwB;IACxBE,kBAAkB;IAClBxC,mBAAmB;IACnBC,sBAAsB;IACtByC;EACF,CAAC;EAED,oBACEvD,OAAA,CAACC,WAAW,CAAC2D,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAxD,QAAA,EAChCA;EAAQ;IAAA0D,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC5D,EAAA,CA3TWF,YAAY;AAAA+D,EAAA,GAAZ/D,YAAY;AA6TzB,OAAO,MAAMgE,QAAQ,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMtE,UAAU,CAACI,WAAW,CAAC;AAAA;AAACkE,GAAA,CAAzCD,QAAQ;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}